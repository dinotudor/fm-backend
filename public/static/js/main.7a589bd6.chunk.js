(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(74)},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(38),l=n.n(i),o=n(78),u=n(2),c=n(3),s=n(5),m=n(4),h=n(6),p=n(80),d=n(76),f=n(13),g=n.n(f),v=new(function(){function e(){Object(u.a)(this,e);this.auth=g.a.create({baseURL:"https://find-musician.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),E=r.a.createContext(),b=E.Consumer,y=E.Provider,O=function(e){return function(t){function n(){return Object(u.a)(this,n),Object(s.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(h.a)(n,t),Object(c.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,function(n){return r.a.createElement(e,Object.assign({login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin},t.props))})}}]),n}(a.Component)},j=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;v.signup({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password;v.login({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){v.logout().then(function(){n.setState({isLoggedin:!1,user:null})}).catch(function(){})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(y,{value:{isLoggedin:n,user:a,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),C=O(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout),n=e.isLoggedin;return r.a.createElement("div",null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{to:"/dashboard"},r.a.createElement("button",null,"Home")),r.a.createElement(d.a,{to:"/profile"},r.a.createElement("button",null,"My Profile")),r.a.createElement(d.a,{to:"/favorites"},r.a.createElement("button",null,"Favorites")),r.a.createElement("button",{onClick:t},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{to:"/login"},"Login"),r.a.createElement(d.a,{to:"/signup"},"Signup")))}}]),t}(a.Component)),w=O(function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome ",this.props.user.username))}}]),t}(a.Component)),S=n(14),k=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",description:"",picture:"",instruments:"",media:"",favorites:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(S.a)({},a,r))},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(d.a,{to:"/login"}," Login")))}}]),t}(a.Component)),D=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(S.a)({},a,r))},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login"},r.a.createElement("form",{className:"login-form",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"username"),r.a.createElement("input",{className:"login-input",type:"text",name:"username",placeholder:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"password"),r.a.createElement("input",{className:"login-input",type:"password",name:"password",placeholder:"*****",value:n,onChange:this.handleChange}),r.a.createElement("input",{className:"btn",type:"submit",value:"Login"})))}}]),t}(a.Component)),L=n(19),F=n(79),M=n(77);var I=O(function(e){var t=e.component,n=e.isLoggedin,a=Object(L.a)(e,["component","isLoggedin"]);return r.a.createElement(F.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(M.a,{to:"/login"})}}))});var A=O(function(e){var t=e.component,n=e.isLoggedin,a=Object(L.a)(e,["component","isLoggedin"]);return r.a.createElement(F.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(M.a,{to:"/dashboard"}):r.a.createElement(t,e)}}))}),P=new(function(){function e(){Object(u.a)(this,e),this.profile=g.a.create({baseURL:"https://find-musician.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getAll",value:function(){return this.profile.get("/").then(function(e){return e.data})}},{key:"getOne",value:function(e){return this.profile.get("/".concat(e)).then(function(e){return e.data})}},{key:"editOne",value:function(e,t,n,a,r,i){return this.profile.put("/edit",{username:e,description:t,instruments:n,city:r,genres:a,image:i}).then(function(e){return e.data})}},{key:"imageUpload",value:function(e){return this.profile.post("/edit",e).then(function(e){return e.data})}}]),e}()),R=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profiles:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.getAll().then(function(t){return e.setState({profiles:t})})}},{key:"render",value:function(){var e=this.state.profiles;return r.a.createElement("div",null,r.a.createElement("h3",null,"Dashboard"),e.map(function(e,t){return r.a.createElement(d.a,{key:e._id,to:"userprofile/".concat(e._id)},r.a.createElement("h3",null,e.username),r.a.createElement("p",null,"Instruments: ",e.instruments," Genres:",e.genres," City",e.city))}))}}]),t}(a.Component),U=new(function(){function e(){Object(u.a)(this,e),this.favorite=g.a.create({baseURL:"https://find-musician.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getFavorites",value:function(e){return this.favorite.get("/".concat(e)).then(function(e){return e.data})}},{key:"addFavorite",value:function(e,t){return console.log("SERVICE ",{userId:e,favoriteId:t}),this.favorite.post("/",{userId:e,favoriteId:t}).then(function(e){return e.data})}}]),e}()),x=n(39),N=n.n(x),_=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={profile:{media:[]}},n.handleFormSubmit=function(e){e.preventDefault(),console.log("FAVORITE ID -> ",n.props.match.params),console.log("USER ID -> ",n.props.user._id);var t=n.props.user._id,a=n.props.match.params.id;U.addFavorite(t,a).then(function(e){return e})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("PROPS",this.props);var t=this.props.match.params.id;P.getOne(t).then(function(t){console.log("DID MOUNT USER PROF",t),e.setState({profile:t})})}},{key:"render",value:function(){var e=this.state.profile;return console.log("USER ID",e),r.a.createElement("div",null,r.a.createElement("h1",null,e.username),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"submit",value:"Add to favorites"})),r.a.createElement("br",null),r.a.createElement("img",{src:e.image,alt:"pic"}),r.a.createElement("h4",null,"BIO"),r.a.createElement("p",null,e.description),r.a.createElement("h4",null,"instruments"),r.a.createElement("p",null,e.instruments),r.a.createElement("h4",null,"Genres"),r.a.createElement("p",null,e.city),e.media.map(function(e){return r.a.createElement(N.a,{key:e._id,url:e.url})}))}}]),t}(a.Component)),T=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},n.getMyProfile=function(){P.getOne(n.props.user._id).then(function(e){n.setState({user:e})})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getMyProfile()}},{key:"componentDidUpdate",value:function(e){this.props.user!==e.user&&(this.fetchData(this.props.user),console.log("MY PROFILE DID UPDATE -> ",this.PrevProps.user))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,{to:"/edit"},r.a.createElement("button",null,"Edit Profile")),r.a.createElement(d.a,{to:"/addmedia"},r.a.createElement("button",null,"Add Media")),r.a.createElement("h3",null,"My Profile"),this.state.user?r.a.createElement("div",null,r.a.createElement("img",{src:this.state.user.image,alt:"pic"}),r.a.createElement("h1",null,this.state.user.username),r.a.createElement("h4",null,"BIO:"),r.a.createElement("p",null,this.state.user.description),r.a.createElement("h4",null,"Instruments:"),r.a.createElement("p",null,this.state.user.instruments),r.a.createElement("h4",null,"City:"),r.a.createElement("p",null,this.state.user.city)):r.a.createElement("h1",null,"LOADING"))}}]),t}(a.Component)),B=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",description:"",instruments:"",genres:"",city:"",image:""},n.handleFormSubmit=function(e){console.log("LOG",n.state,n.props.user),e.preventDefault();var t=n.state,a=t.username,r=t.description,i=t.instruments,l=t.genres,o=t.image,u=t.city;P.editOne(a,r,i,l,u,o).then(function(){n.setState({username:"",description:"",instruments:"",genres:"",city:"",image:""})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(S.a)({},a,r))},n.fileOnchange=function(e){var t=e.target.files[0],a=new FormData;a.append("photo",t),P.imageUpload(a).then(function(e){n.setState({image:e,disable:!1})}).catch(function(e){return console.log(e)})},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",null,r.a.createElement("h3",null,"Edit Profile"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"User Name:"),r.a.createElement("input",{type:"text",name:"username",placeholder:"username",value:this.username,onChange:this.handleChange}),r.a.createElement("label",null,"BIO:"),r.a.createElement("input",{type:"text",name:"description",placeholder:"description",value:this.description,onChange:this.handleChange}),r.a.createElement("label",null,"Instruments:"),r.a.createElement("input",{type:"text",name:"instruments",placeholder:"instruments",value:this.instruments,onChange:this.handleChange}),r.a.createElement("label",null,"City:"),r.a.createElement("input",{type:"text",name:"city",placeholder:"city",value:this.city,onChange:this.handleChange}),r.a.createElement("label",null,"Genres:"),r.a.createElement("input",{type:"text",name:"genres",placeholder:"genres",value:this.genres,onChange:this.handleChange}),r.a.createElement("label",null,"Picture:"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange}),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),t}(a.Component)),G=new(function(){function e(){Object(u.a)(this,e),this.media=g.a.create({baseURL:"https://find-musician.herokuapp.com",withCredentials:!0})}return Object(c.a)(e,[{key:"getMedia",value:function(){return this.media.get("/").then(function(e){return e.data})}},{key:"addMedia",value:function(e,t,n,a,r,i,l){return this.media.post("/",{type:e,url:t,title:n,description:a,year:r,month:i,id:l}).then(function(e){return e.data})}}]),e}()),V=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={type:"",url:"",title:"",description:"",year:"",month:""},n.handleFormSubmit=function(e){e.preventDefault(),console.log("ADD MEDIA FORM",n.state,n.props.user);var t=n.state,a=t.type,r=t.url,i=t.title,l=t.description,o=t.year,u=t.month,c=n.props.match.params.id;G.addMedia(a,r,i,l,o,u,c),n.setState({type:"",url:"",title:"",description:"",year:"",month:""})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(S.a)({},a,r))},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Add Media"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Title:"),r.a.createElement("input",{type:"text",name:"title",placeholder:"title",value:this.title,onChange:this.handleChange}),r.a.createElement("label",null,"Type(song or video):"),r.a.createElement("input",{type:"text",name:"type",placeholder:"type",value:this.type,onChange:this.handleChange}),r.a.createElement("label",null,"URL:"),r.a.createElement("input",{type:"text",name:"url",placeholder:"url",value:this.url,onChange:this.handleChange}),r.a.createElement("label",null,"Description:"),r.a.createElement("input",{type:"text",name:"description",placeholder:"description",value:this.description,onChange:this.handleChange}),r.a.createElement("label",null,"Year:"),r.a.createElement("input",{type:"text",name:"year",placeholder:"year",value:this.year,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),t}(a.Component)),Y=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={favorites:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("PROPS->",this.props);var t=this.props.user._id;console.log("ID->",t),U.getFavorites(t).then(function(t){var n=t.favorites;return e.setState({favorites:n})})}},{key:"render",value:function(){var e=this.state.favorites;return console.log("FAVORITES BY USER -> ",e),r.a.createElement("div",null,r.a.createElement("h3",null,"Favorites"),e.map(function(e,t){return r.a.createElement(d.a,{key:e._id,to:"userprofile/".concat(e._id)},r.a.createElement("p",null,e.username),r.a.createElement("img",{src:e.image,alt:"favPic"}))}))}}]),t}(a.Component)),J=O(function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={media:[]},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.id;console.log("DID MOUNT",this.props.match),G.getMedia(t).then(function(t){var n=t.media;return e.setState({media:n})})}},{key:"render",value:function(){var e=this.state.media;return console.log("MEDIA",e),r.a.createElement("div",null,r.a.createElement(d.a,{to:"/edit"},r.a.createElement("button",null,"Edit Profile")),r.a.createElement(d.a,{to:"/profile"},r.a.createElement("button",null,"My Profile")),r.a.createElement(d.a,{to:"/favorites"},r.a.createElement("button",null,"Favorites")),e.map(function(e){return r.a.createElement("h1",{key:e._id},e.title)}))}}]),t}(a.Component)),H=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(j,null,r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"FM - Find Musician"),r.a.createElement(C,null),r.a.createElement(p.a,null,r.a.createElement(A,{path:"/signup",component:k}),r.a.createElement(A,{path:"/login",component:D}),r.a.createElement(I,{path:"/private",component:w}),r.a.createElement(I,{path:"/dashboard",component:R}),r.a.createElement(I,{path:"/userprofile/:id",component:_}),r.a.createElement(I,{path:"/profile",component:T}),r.a.createElement(I,{path:"/edit",component:B}),r.a.createElement(I,{path:"/addmedia",component:V}),r.a.createElement(I,{path:"/favorites",component:Y}),r.a.createElement(I,{path:"/media",component:J}))))}}]),t}(a.Component);n(73);l.a.render(r.a.createElement(o.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.7a589bd6.chunk.js.map